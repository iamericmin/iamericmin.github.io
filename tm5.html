<!--
 ______     ______     __     ______        __    __     __     __   __    
/\  ___\   /\  == \   /\ \   /\  ___\      /\ "-./  \   /\ \   /\ "-.\ \   
\ \  __\   \ \  __<   \ \ \  \ \ \____     \ \ \-./\ \  \ \ \  \ \ \-.  \  
 \ \_____\  \ \_\ \_\  \ \_\  \ \_____\     \ \_\ \ \_\  \ \_\  \ \_\\"\_\ 
  \/_____/   \/_/ /_/   \/_/   \/_____/      \/_/  \/_/   \/_/   \/_/ \/_/
Eric Min copyright (c) 2918 Eric Min                                   
-->
<!DOCTYPE HTML>

<html lang="en">
    <body> 
    <head>
        <!-- Google fonts -->
        <link href="https://fonts.googleapis.com/css?family=Audiowide|Ubuntu|Ubuntu+Mono|Share+Tech+Mono" rel="stylesheet">

        <!-- My stylesheet -->
        <link rel="stylesheet" href="css/style.css">

        <!-- Favicon -->
        <link rel="icon" type="image/svg+xml" href="favicon.ico"> 
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>ERIC MIN</title>
        <center>
                <div class="banner">
                    <a href="index.html" class="bannername">E<span class="offset">R</span>IC MIN</a>
                </div>
        </center>
    </head>

        <div class="mainbody">
            <p>TIME MACHINE MK. V</p>
            <center><a href="https://iamericmin.github.io/tm4.html">Click here to check out its predecessor from last year, the Mk. IV</a></center>
            <center><img src="images/tm5_delorean.jpeg" style="width: 50%; padding-top: 5%; padding-bottom: 5%"></center>
                <h1>INTRODUCTION</h1>
            <br>
            <a>
                <a>Here at Min Industries, we never settle on "good enough." We always strive to be greater. The Time Machine Mk. V is the product of our sleepless nights, our mugs of coffee, and our burning desire to be the very best. Our magnum opus.
                <br><br>
                The Time Machine Mk. V is an upgraded version of last year's Time Machine Mk. IV. It uses the same processor, but adds in a bigger battery, a serial port, and a debug port. The battery is a CR2032 which is four times larger than the Mark IV's CR1225 battery. The larger battery allows for brighter LEDs and a louder piezo speaker. A utility port allows for easy firmware upgrades and debugging. The Mk. V is better than the Mk. IV in almost every way, and I'm extremely happy with how it turned out. Anyways, here's the tea.</a>
                <br><br>
                <h1>SPEC LIST</h1>
                <li>PROCESSOR: nRF52832 Soc. 64MHz ARM cortex M4 with 64k RAM and 512k flash.</li>
                <li>FIRMWARE: Espruino JS interpreter + JS code. I'm working on a C/C++ version.</li>
                <li>POWER: CR2032 coin cell battery. Guesstimated battery life of around a month.</li>
                <li>DISPLAY: Dual 7-segment LEDs with five auxiliary LEDs.</li>
                <li>INPUT: Triple momentary tactile switches.</li>
                <li>SOUND: Mini piezo speaker.</li>
                <li>DIMENSIONS: 43.18mm width and length, 9.2mm thickness(1mm thinner than the Mark IV!).</li>
                <li>STRAP: 22mm NATO strap.</li>
                <li>GITHUB: <a href="https://github.com/iamericmin/Time-Machine-Mk.-V">source code and files</a></li>
                <br>
                <h1>DESIGN</h1>
                <a>Let's first start off with the design. I decided to keep the same general shape as the Mk. IV but with a refresh. So I turned the corner LEDs for a more aggressive look. I love how it turned out, the V looks way cooler and angrier than the IV. Of course, I went with red for soldermask color. It stands out and screams, "look at me!"
                <br><br>
                I also had to design new silkscreen livery. Continuing the Mk. IV's motorsport-inspired racing stripes, The Mk. V also has two stripes of different thiccness. However, unlike the IV, the V  has more 45 degree angles and puts the version number inside the stripes rather than outside. The result is I think a cleaner and more futuristic vibe. The Mk. V is also a brighter red than the Mk. IV, because I used a different service. I used dirtyPCBs.com for the IV but switched to JLC because they had cheaper 4-layer prices.
                <br><br>
                Oh, I also made a special blue and gold version of the Mk. V, inspired by one of my dream cars, the Subaru WRX STI. The blue soldermask didn't turn out quite like I wanted to. I was expecting a much brighter blue, but I still think it looks pretty. I especially love how the gold "005" reflects light.</a>
                <h1>HARDWARE</h1>
                <a>The Mk. V uses the nRF52832, which is also what the IV used. I would've chosen the nRF52840 but my soldering isn't good enough for QFN parts, and pre-built modules require a hot air gun to work with. Raytac's excellent MDBT42Q modules have castellated edges which make it a breeze to solder on with a normal fine-tip iron. However, with 64k ram and 512k flash, the nRF52832 has more than enough muscle for me to dick around with.
                <br><br>
                There are three main improvements over last year's Mk. IV: a precision crystal, a utility port, and a bigger battery. This was all possible because the Mk. V is my first ever PCB to use 4 layers instead of my usual 2. More layers meant I was able to cram more stuff in the same size PCB from last year. The Mk. IV didn't have an external crystal because I thought the nF52832's internal clock would be accurate enough. Well, turns out it drifts a few minutes every month, so I decided to throw in an external 32khz crystal with two 22pf caps. While I haven't properly tested the long-term accuracy yet, it stayed dead accurate for days without syncing time with my laptop. Every time I check, the minutes roll over exactly the same time as the clock on my laptop. SO I think it's safe to assume accuracy is pretty damn good!
                <br><br>
                The utility port is a simple 8-pin JST-SH socket. It's a cheap, sturdy, and low-profile connector. The port carries signals for SWD debug/programming, serial lines, as well as ground and 3v. I added it so that I can load custom firmware other than Espruino onto the watch. I have an nRF52-DK which has a built-in Segger J-link, meaning I can use it to reprogram the Mk. V. I am planning on re-writing the Javascript firmware with C/C++, so the debug port will come in quite handy. I tried loading the watch with Adafruit's nRF52 DFU bootloader but for some reason the computer doesn't detect my watch. If anyone knows the solution, it would be greatly appreciated! The utility port is placed on the side of my watch, so I don't need to remove the strap for programming. It is accessible anytime. However, I can't power the watch with the utility port and the battery simultaneously. Only one of them should be connected at any time. This is one of the issues I will try to fix in the Mk. VI.
                <br><br>
                Finally, the biggest improvement is in the battery. This was the main reason I switched to 4 layers, because the CR2032 battery takes up more than a quarter of the back area! The entire backside's design basically revolved around the coin cell because it just took up that much space. It was a true pain in the ass designing the backside, but I guess that is the price you pay for longer battery life. 4x longer, in fact, than the Mk. IV. I haven't tested long-term battery life, so i'm not really sure how long it'll last. i guesstimate about a month, since the Mk. IV lasted about a week and a half with its measly battery.</a>
                <br><br>
                <h1>SOFTWARE</h1>
                <a>There isn't much in terms of software. The watch can only tell time and show some fancy animations. I want to add more features like a stopwatch, calendar, and maybe some games, but that's far away into the future. I also really want to add a bluetooth remote app to control my phone and laptop, but for some reason it drains the battery life super quick, like under an hour. I have no idea why. It's called BLE for a reason, isn't it?
                <br><br>
                I had a lot of fun working on the animations, however. Since the V has a larger battery, I took the liberty of designing a boot animation. Keeping with the motorsport theme of the watch, I made the boot animation look like the dash gauge cluster on a race car. The 5 auxiliary LEDs light up in random order, then the digit LEDs show a pattern similar to the behavior of a tachometer. Then, the auxiliary LEDs turn off in random order. Yes, that means the boot animation is different every time. I think there are 14,400 unique boot-up animations for the Time Machine Mk. V! (5!)^2 = 14,400.</a>
                <br><br>
                <h1>CONCLUSION</h1>
                <a>I am very happy with my new watch. In fact, I'm so happy with it I probably won't make a Mk. VI for a while. I'll stick to the V and work on porting its software to C/C++. Oh, I also plan on making a docking station that makes full use of the V's utility port. A lot of powerful things can be done with just the RX/TX lines.</a>
                <br><br>
                <h1>EXTRAS</h1>
                <a href="https://github.com/iamericmin/Time-Machine-Mk.-V"><h2>GITHUB REPO</h2></a>
                <a href="https://imgur.com/gallery/OngwpjY"><h2>IMGUR ALBUM</h2></a>
                <a href="https://hackaday.io/project/174311-time-machine-mk-v"><h2>HACKADAY.IO PAGE</h2></a>
                <a href="https://youtu.be/kaWDf59fq8A"><h2>YOUTUBE VIDEO</h2></a>
                <a></a>
            </a>
        </div>
    </body>
</html>